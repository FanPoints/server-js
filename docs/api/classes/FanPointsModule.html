<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>FanPointsModule | @fanpoints/server-js</title><meta name="description" content="Documentation for @fanpoints/server-js"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><style>
@media (prefers-color-scheme: dark) {
  :root {
    --md-sys-color-primary: #96ccff;
    --md-sys-color-on-primary: #003353;
    --md-sys-color-primary-container: #004a75;
    --md-sys-color-on-primary-container: #cee5ff;
    --md-sys-color-secondary: #b9c8da;
    --md-sys-color-on-secondary: #233240;
    --md-sys-color-secondary-container: #3a4857;
    --md-sys-color-on-secondary-container: #d5e4f7;
    --md-sys-color-tertiary: #d3bfe6;
    --md-sys-color-on-tertiary: #382a49;
    --md-sys-color-tertiary-container: #4f4061;
    --md-sys-color-on-tertiary-container: #eedbff;
    --md-sys-color-error: #ffb4ab;
    --md-sys-color-on-error: #690005;
    --md-sys-color-error-container: #93000a;
    --md-sys-color-on-error-container: #ffb4ab;
    --md-sys-color-background: #1a1c1e;
    --md-sys-color-on-background: #e2e2e5;
    --md-sys-color-surface: #1a1c1e;
    --md-sys-color-on-surface: #e2e2e5;
    --md-sys-color-surface-variant: #42474e;
    --md-sys-color-on-surface-variant: #c2c7cf;
    --md-sys-color-outline: #8c9198;
    --md-sys-color-outline-variant: #42474e;
    --md-sys-color-shadow: #000000;
    --md-sys-color-scrim: #000000;
    --md-sys-color-inverse-surface: #e2e2e5;
    --md-sys-color-inverse-on-surface: #2f3033;
    --md-sys-color-inverse-primary: #00639a;
    --md-sys-color-surface-dim: #121416;
    --md-sys-color-surface-bright: #37393c;
    --md-sys-color-surface-container-lowest: #0c0e11;
    --md-sys-color-surface-container-low: #1a1c1e;
    --md-sys-color-surface-container: #1e2022;
    --md-sys-color-surface-container-high: #282a2d;
    --md-sys-color-surface-container-highest: #333538
  }
}
:root[data-theme="dark"] {
  --md-sys-color-primary: #96ccff;
  --md-sys-color-on-primary: #003353;
  --md-sys-color-primary-container: #004a75;
  --md-sys-color-on-primary-container: #cee5ff;
  --md-sys-color-secondary: #b9c8da;
  --md-sys-color-on-secondary: #233240;
  --md-sys-color-secondary-container: #3a4857;
  --md-sys-color-on-secondary-container: #d5e4f7;
  --md-sys-color-tertiary: #d3bfe6;
  --md-sys-color-on-tertiary: #382a49;
  --md-sys-color-tertiary-container: #4f4061;
  --md-sys-color-on-tertiary-container: #eedbff;
  --md-sys-color-error: #ffb4ab;
  --md-sys-color-on-error: #690005;
  --md-sys-color-error-container: #93000a;
  --md-sys-color-on-error-container: #ffb4ab;
  --md-sys-color-background: #1a1c1e;
  --md-sys-color-on-background: #e2e2e5;
  --md-sys-color-surface: #1a1c1e;
  --md-sys-color-on-surface: #e2e2e5;
  --md-sys-color-surface-variant: #42474e;
  --md-sys-color-on-surface-variant: #c2c7cf;
  --md-sys-color-outline: #8c9198;
  --md-sys-color-outline-variant: #42474e;
  --md-sys-color-shadow: #000000;
  --md-sys-color-scrim: #000000;
  --md-sys-color-inverse-surface: #e2e2e5;
  --md-sys-color-inverse-on-surface: #2f3033;
  --md-sys-color-inverse-primary: #00639a;
  --md-sys-color-surface-dim: #121416;
  --md-sys-color-surface-bright: #37393c;
  --md-sys-color-surface-container-lowest: #0c0e11;
  --md-sys-color-surface-container-low: #1a1c1e;
  --md-sys-color-surface-container: #1e2022;
  --md-sys-color-surface-container-high: #282a2d;
  --md-sys-color-surface-container-highest: #333538
}

@media (prefers-color-scheme: light) {
  :root {
    --md-sys-color-primary: #00639a;
    --md-sys-color-on-primary: #ffffff;
    --md-sys-color-primary-container: #cee5ff;
    --md-sys-color-on-primary-container: #001d32;
    --md-sys-color-secondary: #51606f;
    --md-sys-color-on-secondary: #ffffff;
    --md-sys-color-secondary-container: #d5e4f7;
    --md-sys-color-on-secondary-container: #0e1d2a;
    --md-sys-color-tertiary: #68587a;
    --md-sys-color-on-tertiary: #ffffff;
    --md-sys-color-tertiary-container: #eedbff;
    --md-sys-color-on-tertiary-container: #231533;
    --md-sys-color-error: #ba1a1a;
    --md-sys-color-on-error: #ffffff;
    --md-sys-color-error-container: #ffdad6;
    --md-sys-color-on-error-container: #410002;
    --md-sys-color-background: #fcfcff;
    --md-sys-color-on-background: #1a1c1e;
    --md-sys-color-surface: #fcfcff;
    --md-sys-color-on-surface: #1a1c1e;
    --md-sys-color-surface-variant: #dee3eb;
    --md-sys-color-on-surface-variant: #42474e;
    --md-sys-color-outline: #72777f;
    --md-sys-color-outline-variant: #c2c7cf;
    --md-sys-color-shadow: #000000;
    --md-sys-color-scrim: #000000;
    --md-sys-color-inverse-surface: #2f3033;
    --md-sys-color-inverse-on-surface: #f0f0f4;
    --md-sys-color-inverse-primary: #96ccff;
    --md-sys-color-surface-dim: #dadadd;
    --md-sys-color-surface-bright: #f9f9fc;
    --md-sys-color-surface-container-lowest: #ffffff;
    --md-sys-color-surface-container-low: #f3f3f7;
    --md-sys-color-surface-container: #eeedf1;
    --md-sys-color-surface-container-high: #e8e8eb;
    --md-sys-color-surface-container-highest: #e2e2e5
  }
}
:root[data-theme="light"] {
  --md-sys-color-primary: #00639a;
  --md-sys-color-on-primary: #ffffff;
  --md-sys-color-primary-container: #cee5ff;
  --md-sys-color-on-primary-container: #001d32;
  --md-sys-color-secondary: #51606f;
  --md-sys-color-on-secondary: #ffffff;
  --md-sys-color-secondary-container: #d5e4f7;
  --md-sys-color-on-secondary-container: #0e1d2a;
  --md-sys-color-tertiary: #68587a;
  --md-sys-color-on-tertiary: #ffffff;
  --md-sys-color-tertiary-container: #eedbff;
  --md-sys-color-on-tertiary-container: #231533;
  --md-sys-color-error: #ba1a1a;
  --md-sys-color-on-error: #ffffff;
  --md-sys-color-error-container: #ffdad6;
  --md-sys-color-on-error-container: #410002;
  --md-sys-color-background: #fcfcff;
  --md-sys-color-on-background: #1a1c1e;
  --md-sys-color-surface: #fcfcff;
  --md-sys-color-on-surface: #1a1c1e;
  --md-sys-color-surface-variant: #dee3eb;
  --md-sys-color-on-surface-variant: #42474e;
  --md-sys-color-outline: #72777f;
  --md-sys-color-outline-variant: #c2c7cf;
  --md-sys-color-shadow: #000000;
  --md-sys-color-scrim: #000000;
  --md-sys-color-inverse-surface: #2f3033;
  --md-sys-color-inverse-on-surface: #f0f0f4;
  --md-sys-color-inverse-primary: #96ccff;
  --md-sys-color-surface-dim: #dadadd;
  --md-sys-color-surface-bright: #f9f9fc;
  --md-sys-color-surface-container-lowest: #ffffff;
  --md-sys-color-surface-container-low: #f3f3f7;
  --md-sys-color-surface-container: #eeedf1;
  --md-sys-color-surface-container-high: #e8e8eb;
  --md-sys-color-surface-container-highest: #e2e2e5
}
</style><link rel="stylesheet" href="../assets/material-style.css"/></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@fanpoints/server-js</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@fanpoints/server-js</a></li><li><a href="FanPointsModule.html">FanPointsModule</a></li></ul><h1>Class FanPointsModule&lt;PartnerLabel&gt;</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>This class allows you to interact with the FanPoints module. The FanPoints
module allows to distribute FanPoints to users and collect FanPoints from a
user as a method of payment.</p>
</div><div class="tsd-comment tsd-typography"></div></section> <section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="PartnerLabel" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">PartnerLabel</span><span class="tsd-signature-keyword"> extends </span><span class="tsd-signature-type">string</span></span></li></ul></section> <aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/FanPoints/server-js/blob/298067a057553a29ab604d1ffb5ad8110880a8ff/src/FanPointsModule.ts#L16">src/FanPointsModule.ts:16</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="FanPointsModule.html#createFanPointsPaymentSession" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Fan<wbr/>Points<wbr/>Payment<wbr/>Session</span></a>
<a href="FanPointsModule.html#createTixevoFanPointsPaymentSession" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Tixevo<wbr/>Fan<wbr/>Points<wbr/>Payment<wbr/>Session</span></a>
<a href="FanPointsModule.html#estimateGivenOutFanPointsOnPurchase" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>estimate<wbr/>Given<wbr/>Out<wbr/>Fan<wbr/>Points<wbr/>On<wbr/>Purchase</span></a>
<a href="FanPointsModule.html#getBalance" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Balance</span></a>
<a href="FanPointsModule.html#getPriceInFanPoints" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Price<wbr/>In<wbr/>Fan<wbr/>Points</span></a>
<a href="FanPointsModule.html#getTransaction" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Transaction</span></a>
<a href="FanPointsModule.html#getTransactions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Transactions</span></a>
<a href="FanPointsModule.html#giveFanPointsOnPurchase" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>give<wbr/>Fan<wbr/>Points<wbr/>On<wbr/>Purchase</span></a>
<a href="FanPointsModule.html#payPurchaseWithFanPoints" class="tsd-index-link deprecated"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>pay<wbr/>Purchase<wbr/>With<wbr/>Fan<wbr/>Points</span></a>
<a href="FanPointsModule.html#registerTixevoCheckout" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>register<wbr/>Tixevo<wbr/>Checkout</span></a>
<a href="FanPointsModule.html#undoPurchase" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>undo<wbr/>Purchase</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Methods</h2></summary><section><section class="tsd-panel tsd-member"><a id="createFanPointsPaymentSession" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>create<wbr/>Fan<wbr/>Points<wbr/>Payment<wbr/>Session</span><a href="#createFanPointsPaymentSession" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="createFanPointsPaymentSession.createFanPointsPaymentSession-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">create<wbr/>Fan<wbr/>Points<wbr/>Payment<wbr/>Session</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">price</span>, <span class="tsd-kind-parameter">successUrl</span>, <span class="tsd-kind-parameter">cancelUrl</span>, <span class="tsd-kind-parameter">customPurchaseId</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">loyaltyProgramId</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">webhookUrl</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">partnerId</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">partnerLabel</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">currency</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">amount</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">cancelUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">customPurchaseId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">expiryDate</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">sessionId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">sessionUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">status</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">FanPointsPaymentSessionStatus</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">successUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span><a href="#createFanPointsPaymentSession.createFanPointsPaymentSession-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Creates a new payment session which can be used to allow payment with FanPoints.</p>
<p>The flow is as follows:</p>
<ol>
<li>When your user chooses to pay with FanPoints, you can use this method to create a payment session.</li>
<li>The payment session has a unique session URL with the checkout form hosted by the loyalty program.
Redirect your user to this URL.</li>
<li>The user completes the checkout and is redirected to the given callback URL or cancellation URL.</li>
<li>A request is sent to the webhook URL if provided.</li>
</ol>
<p>This flow is preferred over the <code>payPurchaseWithFanPoints</code> method as it allows to properly authenticate
the user on the checkout page hosted by the loyalty program.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">price</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>the price of the purchase</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">successUrl</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the URL to redirect to if the user completes the payment successfully</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">cancelUrl</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the URL to redirect to if the user cancels the payment</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">customPurchaseId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>an optional custom purchase id which can be used to link the payment to a specific purchase in your system</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">loyaltyProgramId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the ID of the loyalty program, where the user belongs to (only needed if the client config does not contain a loyalty program ID)</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">webhookUrl</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the URL to send a request to after the payment is completed</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">partnerId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the id of the partner where the purchase happened (only needed if the client config does not contain a partner ID)</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">partnerLabel</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="FanPointsModule.html#PartnerLabel">PartnerLabel</a></span><div class="tsd-comment tsd-typography"><p>the label of the partner where the purchase happened (optional)</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">currency</span>: <a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a></span><div class="tsd-comment tsd-typography"><p>the currency of the price (only needed )</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">amount</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">cancelUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">customPurchaseId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">expiryDate</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">sessionId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">sessionUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">status</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">FanPointsPaymentSessionStatus</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">successUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span></h4><p>the created session with the session URL</p>
<div class="tsd-comment tsd-typography"><h4 class="tsd-anchor-link"><a id="Throws" class="tsd-anchor"></a>Throws<a href="#Throws" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="RequestError.html" class="tsd-kind-class">RequestError</a> if the given price is not valid (<code>invalidRewardAmountError</code>) or if
the given custom purchase id is not valid (<code>invalidTransactionIdError</code>).</p>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/FanPoints/server-js/blob/298067a057553a29ab604d1ffb5ad8110880a8ff/src/FanPointsModule.ts#L317">src/FanPointsModule.ts:317</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="createTixevoFanPointsPaymentSession" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>create<wbr/>Tixevo<wbr/>Fan<wbr/>Points<wbr/>Payment<wbr/>Session</span><a href="#createTixevoFanPointsPaymentSession" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="createTixevoFanPointsPaymentSession.createTixevoFanPointsPaymentSession-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">create<wbr/>Tixevo<wbr/>Fan<wbr/>Points<wbr/>Payment<wbr/>Session</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">partnerType</span>, <span class="tsd-kind-parameter">price</span>, <span class="tsd-kind-parameter">successUrl</span>, <span class="tsd-kind-parameter">cancelUrl</span>, <span class="tsd-kind-parameter">webhookUrl</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">customPurchaseId</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">currency</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">amount</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">cancelUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">customPurchaseId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">expiryDate</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">sessionId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">sessionUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">status</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">FanPointsPaymentSessionStatus</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">successUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span><a href="#createTixevoFanPointsPaymentSession.createTixevoFanPointsPaymentSession-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Creates a new payment session which can be used to allow payment with FanPoints.</p>
<p>Use this method when your loyalty program is connected to Tixevo. In contrast to the
<code>createFanPointsPaymentSession</code> method, this method only works if your client is
configured with the loyalty program connected to Tixevo.</p>
<p>The flow is as follows:</p>
<ol>
<li>When your user chooses to pay with FanPoints, you can use this method to create a payment session.</li>
<li>The payment session has a unique session URL with the checkout form hosted by the loyalty program.
Redirect your user to this URL.</li>
<li>The user completes the checkout and is redirected to the given callback URL or cancellation URL.</li>
<li>A request is sent to the webhook URL if provided.</li>
</ol>
<p>This flow is preferred over the <code>payPurchaseWithFanPoints</code> method as it allows to properly authenticate
the user on the checkout page hosted by the loyalty program.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">partnerType</span>: <span class="tsd-signature-type">TixevoPartnerType</span></span><div class="tsd-comment tsd-typography"><p>the type of the Tixevo partner where the purchase happened</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">price</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>the price of the purchase</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">successUrl</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the URL to redirect to if the user completes the payment successfully</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">cancelUrl</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the URL to redirect to if the user cancels the payment</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">webhookUrl</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the URL to send a request to after the payment is completed</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">customPurchaseId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>an optional custom purchase id which can be used to link the payment to a specific purchase in your system</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">currency</span>: <a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a></span><div class="tsd-comment tsd-typography"><p>the currency of the price (only needed )</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">amount</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">cancelUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">customPurchaseId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">expiryDate</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">sessionId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">sessionUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">status</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">FanPointsPaymentSessionStatus</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">successUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span></h4><p>the created session with the session URL</p>
<ul>
<li></li>
</ul>
<div class="tsd-comment tsd-typography"><h4 class="tsd-anchor-link"><a id="Throws-1" class="tsd-anchor"></a>Throws<a href="#Throws-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="RequestError.html" class="tsd-kind-class">RequestError</a> if the given price is not valid (<code>invalidRewardAmountError</code>), if
the given custom purchase id is not valid (<code>invalidTransactionIdError</code>), or if the configured loyalty
program is not connected to Tixevo (<code>notConfiguredError</code>).</p>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/FanPoints/server-js/blob/298067a057553a29ab604d1ffb5ad8110880a8ff/src/FanPointsModule.ts#L390">src/FanPointsModule.ts:390</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="estimateGivenOutFanPointsOnPurchase" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>estimate<wbr/>Given<wbr/>Out<wbr/>Fan<wbr/>Points<wbr/>On<wbr/>Purchase</span><a href="#estimateGivenOutFanPointsOnPurchase" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="estimateGivenOutFanPointsOnPurchase.estimateGivenOutFanPointsOnPurchase-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">estimate<wbr/>Given<wbr/>Out<wbr/>Fan<wbr/>Points<wbr/>On<wbr/>Purchase</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">purchaseItems</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><a href="#estimateGivenOutFanPointsOnPurchase.estimateGivenOutFanPointsOnPurchase-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Estimates how many Fan Points a user would receive for the given purchase.</p>
<p>This allows you to check how many Fan Points a user would receive for
a given purchase. It does not actually distribute the Fan Points. Use
<a href="FanPointsModule.html#giveFanPointsOnPurchase" class="tsd-kind-method">giveFanPointsOnPurchase</a> to distribute Fan Points.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">purchaseItems</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">?: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">partnerLabel</span><span class="tsd-signature-symbol">?: </span><a class="tsd-signature-type tsd-kind-type-parameter" href="FanPointsModule.html#PartnerLabel">PartnerLabel</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">price</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">rateLabel</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>the items that were purchased</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><p>the amount of Fan Points the user would receive.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/FanPoints/server-js/blob/298067a057553a29ab604d1ffb5ad8110880a8ff/src/FanPointsModule.ts#L520">src/FanPointsModule.ts:520</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getBalance" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Balance</span><a href="#getBalance" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getBalance.getBalance-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Balance</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">userId</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">fanPoints</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">monetaryValue</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span><a href="#getBalance.getBalance-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns the total number of Fan Points the user has collected.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">userId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the id of the user.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">fanPoints</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">monetaryValue</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span></h4><p>an object containing the total amount of Fan Points the user has collected as well as the amount that can be purchased with these points.</p>
<div class="tsd-comment tsd-typography"><h4 class="tsd-anchor-link"><a id="Throws-2" class="tsd-anchor"></a>Throws<a href="#Throws-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="RequestError.html" class="tsd-kind-class">RequestError</a> if the user does not exist (<code>unknownUserError</code>).</p>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/FanPoints/server-js/blob/298067a057553a29ab604d1ffb5ad8110880a8ff/src/FanPointsModule.ts#L27">src/FanPointsModule.ts:27</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getPriceInFanPoints" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Price<wbr/>In<wbr/>Fan<wbr/>Points</span><a href="#getPriceInFanPoints" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getPriceInFanPoints.getPriceInFanPoints-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Price<wbr/>In<wbr/>Fan<wbr/>Points</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">price</span>, <span class="tsd-kind-parameter">partnerId</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">partnerLabel</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">currency</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><a href="#getPriceInFanPoints.getPriceInFanPoints-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns the number of Fan Points that correspond to the given price.</p>
<p>If multiple partners are configured, you can use the <code>partnerId</code> or the <code>partnerLabel</code>
parameter to specify the partner where the purchase happens.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">price</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>the price in the default currency of the partner or the currency given in the <code>currency</code> parameter</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">partnerId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the id of the partner where the purchase happens</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">partnerLabel</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="FanPointsModule.html#PartnerLabel">PartnerLabel</a></span><div class="tsd-comment tsd-typography"><p>the label of the partner where the purchase happens</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">currency</span>: <a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a></span><div class="tsd-comment tsd-typography"><p>the currency of the price</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><p>the number of Fan Points that correspond to the given price</p>
<div class="tsd-comment tsd-typography"><h4 class="tsd-anchor-link"><a id="Throws-3" class="tsd-anchor"></a>Throws<a href="#Throws-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="RequestError.html" class="tsd-kind-class">RequestError</a> if the given price is not valid (<code>InvalidRewardAmountError</code>).</p>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/FanPoints/server-js/blob/298067a057553a29ab604d1ffb5ad8110880a8ff/src/FanPointsModule.ts#L490">src/FanPointsModule.ts:490</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getTransaction" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Transaction</span><a href="#getTransaction" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getTransaction.getTransaction-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Transaction</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">userId</span>, <span class="tsd-kind-parameter">purchaseId</span>, <span class="tsd-kind-parameter">partnerId</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">partnerLabel</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">purchaseId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">purchaseItems</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-property">amount</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">date</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenSettled</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenUndone</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partner</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>            </span><span class="tsd-kind-property">branding</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>                </span><span class="tsd-kind-property">logoUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">name</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">website</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">price</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">purchaseItemId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">rateLabel</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">title</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">transactionType</span><span class="tsd-signature-symbol">: </span><a href="../types/FanPointsTransactionType.html" class="tsd-signature-type tsd-kind-type-alias">FanPointsTransactionType</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">userId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span><a href="#getTransaction.getTransaction-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns the Fan Points transactions of the given user, purchaseId and partner.</p>
<p>This method can return both transactions where the user received FanPoints on a purchase
and transactions where the user purchased using FanPoints.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">userId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the id of the user</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">purchaseId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the id of the purchase to return</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">partnerId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the id of the partner where the purchase happened</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">partnerLabel</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="FanPointsModule.html#PartnerLabel">PartnerLabel</a></span><div class="tsd-comment tsd-typography"><p>the label of the partner where the purchase happened</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">purchaseId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">purchaseItems</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-property">amount</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">date</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenSettled</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenUndone</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partner</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>            </span><span class="tsd-kind-property">branding</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>                </span><span class="tsd-kind-property">logoUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">name</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">website</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">price</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">purchaseItemId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">rateLabel</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">title</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">transactionType</span><span class="tsd-signature-symbol">: </span><a href="../types/FanPointsTransactionType.html" class="tsd-signature-type tsd-kind-type-alias">FanPointsTransactionType</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">userId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span></h4><p>the transaction</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/FanPoints/server-js/blob/298067a057553a29ab604d1ffb5ad8110880a8ff/src/FanPointsModule.ts#L83">src/FanPointsModule.ts:83</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getTransactions" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Transactions</span><a href="#getTransactions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getTransactions.getTransactions-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Transactions</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">userId</span>, <span class="tsd-kind-parameter">limit</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">earlierThan</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">purchaseId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">purchaseItems</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-property">amount</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">date</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenSettled</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenUndone</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partner</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>            </span><span class="tsd-kind-property">branding</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>                </span><span class="tsd-kind-property">logoUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">name</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">website</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">price</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">purchaseItemId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">rateLabel</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">title</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">transactionType</span><span class="tsd-signature-symbol">: </span><a href="../types/FanPointsTransactionType.html" class="tsd-signature-type tsd-kind-type-alias">FanPointsTransactionType</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">userId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#getTransactions.getTransactions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns all Fan Points transactions of the given user at partners.</p>
<p>The returned transactions contains both transactions where the user
received FanPoints on a purchase and transactions where the user purchased
using FanPoints.</p>
<p>If <code>limit</code> is given, at most <code>limit</code> transactions
will be returned. If <code>earlierThan</code> is given, only transactions
that happened before this transaction will be returned. Combine
both parameters to paginate the results.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">userId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the id of the user</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">limit</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>the maximum number of transactions to return</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">earlierThan</span>: <span class="tsd-signature-type">Date</span></span><div class="tsd-comment tsd-typography"><p>if given, transactions before this date will be returned</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">purchaseId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">purchaseItems</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-property">amount</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">date</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenSettled</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenUndone</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partner</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>            </span><span class="tsd-kind-property">branding</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>                </span><span class="tsd-kind-property">logoUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">name</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">website</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">price</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">purchaseItemId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">rateLabel</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">title</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">transactionType</span><span class="tsd-signature-symbol">: </span><a href="../types/FanPointsTransactionType.html" class="tsd-signature-type tsd-kind-type-alias">FanPointsTransactionType</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">userId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>a list of the transactions.</p>
<div class="tsd-comment tsd-typography"><h4 class="tsd-anchor-link"><a id="Throws-4" class="tsd-anchor"></a>Throws<a href="#Throws-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="RequestError.html" class="tsd-kind-class">RequestError</a> if the user does not exist (<code>unknownUserError</code>).</p>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/FanPoints/server-js/blob/298067a057553a29ab604d1ffb5ad8110880a8ff/src/FanPointsModule.ts#L56">src/FanPointsModule.ts:56</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="giveFanPointsOnPurchase" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>give<wbr/>Fan<wbr/>Points<wbr/>On<wbr/>Purchase</span><a href="#giveFanPointsOnPurchase" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="giveFanPointsOnPurchase.giveFanPointsOnPurchase-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">give<wbr/>Fan<wbr/>Points<wbr/>On<wbr/>Purchase</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">userId</span>, <span class="tsd-kind-parameter">purchaseItems</span>, <span class="tsd-kind-parameter">customPurchaseId</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">purchaseId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">purchaseItems</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-property">amount</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">date</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenSettled</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenUndone</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partner</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>            </span><span class="tsd-kind-property">branding</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>                </span><span class="tsd-kind-property">logoUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">name</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">website</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">price</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">purchaseItemId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">rateLabel</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">title</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">transactionType</span><span class="tsd-signature-symbol">: </span><a href="../types/FanPointsTransactionType.html" class="tsd-signature-type tsd-kind-type-alias">FanPointsTransactionType</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">userId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#giveFanPointsOnPurchase.giveFanPointsOnPurchase-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Gives Fan Points to the user for the given purchase and purchase items.</p>
<p>The titles and descriptions can be used to add human readable information on the
transaction that could be used to display to the user.</p>
<p>Each purchase item can correspond at a different partner. If no partner is given, the
default partner will be used. You can set the partner using the <code>partnerId</code> or the
<code>partnerLabel</code> parameter. If both are given, the <code>partnerId</code> will be used.</p>
<p>Each purchase item can have a different rate label in order to specify the conversion rate
from the price to the number of Fan Points. If no rate label is given, the
default rate of the partner will be used.</p>
<p>A custom purchase id can be given in order to link the transaction to a specific event
on your side. This operation is idempotent w.r.t. the purchase group id. This means that
if you call this method twice with the same custom group id, the second call will not have
any effect and an error will be raised.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">userId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the id of the user to give FanPoints to</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">purchaseItems</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">?: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">customPurchaseItemId</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">partnerLabel</span><span class="tsd-signature-symbol">?: </span><a class="tsd-signature-type tsd-kind-type-parameter" href="FanPointsModule.html#PartnerLabel">PartnerLabel</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">price</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">rateLabel</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">title</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>the items that were purchased</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">customPurchaseId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>an optional custom purchase id</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">purchaseId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">purchaseItems</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-property">amount</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">date</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenSettled</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenUndone</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partner</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>            </span><span class="tsd-kind-property">branding</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>                </span><span class="tsd-kind-property">logoUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">name</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">website</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">price</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">purchaseItemId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">rateLabel</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">title</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">transactionType</span><span class="tsd-signature-symbol">: </span><a href="../types/FanPointsTransactionType.html" class="tsd-signature-type tsd-kind-type-alias">FanPointsTransactionType</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">userId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>a list of the resulting purchase transactions</p>
<div class="tsd-comment tsd-typography"><h4 class="tsd-anchor-link"><a id="Throws-5" class="tsd-anchor"></a>Throws<a href="#Throws-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="RequestError.html" class="tsd-kind-class">RequestError</a> if the user does not exist (<code>unknownUserError</code>),
if the given price is not valid (<code>invalidRewardAmountError</code>), if the custom
purchase id is not valid (<code>invalidTransactionIdError</code>), if a transaction
with the given custom purchase id already exists (<code>alreadyExecutedError</code>),
if the given custom purchase item ids are not unique (<code>nonUniquePurchaseItemIdsError</code>),
or if one of the rate categories does not exist (<code>invalidRateCategoryError</code>).</p>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/FanPoints/server-js/blob/298067a057553a29ab604d1ffb5ad8110880a8ff/src/FanPointsModule.ts#L134">src/FanPointsModule.ts:134</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="payPurchaseWithFanPoints" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="deprecated">pay<wbr/>Purchase<wbr/>With<wbr/>Fan<wbr/>Points</span><a href="#payPurchaseWithFanPoints" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="payPurchaseWithFanPoints.payPurchaseWithFanPoints-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">pay<wbr/>Purchase<wbr/>With<wbr/>Fan<wbr/>Points</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">userId</span>, <span class="tsd-kind-parameter">purchaseItems</span>, <span class="tsd-kind-parameter">customPurchaseId</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">purchaseId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">purchaseItems</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-property">amount</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">date</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenSettled</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenUndone</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partner</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>            </span><span class="tsd-kind-property">branding</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>                </span><span class="tsd-kind-property">logoUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">name</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">website</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">price</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">purchaseItemId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">rateLabel</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">title</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">transactionType</span><span class="tsd-signature-symbol">: </span><a href="../types/FanPointsTransactionType.html" class="tsd-signature-type tsd-kind-type-alias">FanPointsTransactionType</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">userId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#payPurchaseWithFanPoints.payPurchaseWithFanPoints-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">userId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the id of the user to give FanPoints to</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">purchaseItems</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">?: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">customPurchaseItemId</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">partnerLabel</span><span class="tsd-signature-symbol">?: </span><a class="tsd-signature-type tsd-kind-type-parameter" href="FanPointsModule.html#PartnerLabel">PartnerLabel</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">price</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">title</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>the items that were purchased</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">customPurchaseId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>an optional custom purchase id</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">purchaseId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">purchaseItems</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-property">amount</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">date</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenSettled</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenUndone</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partner</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>            </span><span class="tsd-kind-property">branding</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>                </span><span class="tsd-kind-property">logoUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">name</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">website</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">price</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">purchaseItemId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">rateLabel</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">title</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">transactionType</span><span class="tsd-signature-symbol">: </span><a href="../types/FanPointsTransactionType.html" class="tsd-signature-type tsd-kind-type-alias">FanPointsTransactionType</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">userId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>a list of the resulting purchase transactions</p>
<div class="tsd-comment tsd-typography"><h4 class="tsd-anchor-link"><a id="Deprecated" class="tsd-anchor"></a>Deprecated<a href="#Deprecated" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Allows a user to pay a purchase using FanPoints.</p>
<p>This method directly performs the payment. It is recommended to use the <code>createFanPointsPaymentSession</code>
method for a simpler payment flow, where a payment session is created, where you can redirect the user
to a dedicated FanPoints checkout page hosted by the loyalty program. This allows to authenticate the
user on the checkout page hosted by the loyalty program.</p>
<p>The titles and descriptions can be used to add human readable information on the
transaction that could be used to display to the user.</p>
<p>Each purchase item can correspond at a different partner. If no partner is given, the
default partner will be used. You can set the partner using the <code>partnerId</code> or the
<code>partnerLabel</code> parameter. If both are given, the <code>partnerId</code> will be used.</p>
<p>A custom purchase id can be given in order to link the transaction to a specific event
on your side. This operation is idempotent w.r.t. the purchase group id. This means that
if you call this method twice with the same custom group id, the second call will not have
any effect and an error will be raised.</p>
<h4 class="tsd-anchor-link"><a id="Throws-6" class="tsd-anchor"></a>Throws<a href="#Throws-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="RequestError.html" class="tsd-kind-class">RequestError</a> if the user does not exist (<code>unknownUserError</code>),
if the user does not have enough FanPoints (<code>tooFewAvailableError</code>),
if the given price is not valid (<code>invalidRewardAmountError</code>), if the custom
purchase id is not valid (<code>invalidTransactionIdError</code>), if a transaction
with the given custom purchase id already exists (<code>alreadyExecutedError</code>),
if the given custom purchase item ids are not unique (<code>nonUniquePurchaseItemIdsError</code>),
or if one of the rate categories does not exist (<code>invalidRateCategoryError</code>).</p>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/FanPoints/server-js/blob/298067a057553a29ab604d1ffb5ad8110880a8ff/src/FanPointsModule.ts#L230">src/FanPointsModule.ts:230</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="registerTixevoCheckout" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>register<wbr/>Tixevo<wbr/>Checkout</span><a href="#registerTixevoCheckout" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="registerTixevoCheckout.registerTixevoCheckout-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">register<wbr/>Tixevo<wbr/>Checkout</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">jsonPayload</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span><a href="#registerTixevoCheckout.registerTixevoCheckout-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Registers a Tixevo checkout.</p>
<p>This method allows you to register a new or modified raw Tixevo checkout.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">jsonPayload</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The JSON payload of the Tixevo checkout as a string.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><h4 class="tsd-anchor-link"><a id="Throws-7" class="tsd-anchor"></a>Throws<a href="#Throws-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="RequestError.html" class="tsd-kind-class">RequestError</a> if the payload is not in the expected
format (<code>invalidDataFormatError</code>) or if the Tixevo configuration is not
set (<code>tixevoConfigurationNotSetError</code>) in the dashboard.</p>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/FanPoints/server-js/blob/298067a057553a29ab604d1ffb5ad8110880a8ff/src/FanPointsModule.ts#L579">src/FanPointsModule.ts:579</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="undoPurchase" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>undo<wbr/>Purchase</span><a href="#undoPurchase" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="undoPurchase.undoPurchase-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">undo<wbr/>Purchase</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">userId</span>, <span class="tsd-kind-parameter">purchaseId</span>, <span class="tsd-kind-parameter">purchaseItems</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">purchaseId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">purchaseItems</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-property">amount</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">date</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenSettled</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenUndone</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partner</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>            </span><span class="tsd-kind-property">branding</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>                </span><span class="tsd-kind-property">logoUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">name</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">website</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">price</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">purchaseItemId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">rateLabel</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">title</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">transactionType</span><span class="tsd-signature-symbol">: </span><a href="../types/FanPointsTransactionType.html" class="tsd-signature-type tsd-kind-type-alias">FanPointsTransactionType</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">userId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><a href="#undoPurchase.undoPurchase-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Undoes a purchase.</p>
<p>This will reverse the effect of giving out FanPoints or paying with FanPoints.</p>
<p>The <code>purchaseItems</code> parameter specifies what items of the given purchase (<code>purchaseId</code>)
should be undone. You don't have to undo all items of a purchase.</p>
<p>Note that undoing a purchase might not be possible, e.g. if the FanPoints have already been
spent by the user.</p>
<p>Undoing a purchase corresponds to creating a new purchase with a negative price.
This operation is idempotent w.r.t. the purchase id and purchase item id. This means
that if you call this method twice with the same arguments, the second call will not
have any effect.</p>
<p>If you configured multiple partners, you can use the <code>specificPartnerId</code> parameter
ot the <code>partnerLabel</code> parameter to specify the partner where the purchase happened.
If you configured multiple partners and don't provide a <code>specificPartnerId</code>, the
default partner will be used.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">userId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the id of the user that performed the purchase to undo</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">purchaseId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>the id of the purchase to undo</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">purchaseItems</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">partnerLabel</span><span class="tsd-signature-symbol">?: </span><a class="tsd-signature-type tsd-kind-type-parameter" href="FanPointsModule.html#PartnerLabel">PartnerLabel</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">purchaseItemId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">specificPartnerId</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>the purchase items to undo</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">purchaseId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">purchaseItems</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-property">amount</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">currency</span><span class="tsd-signature-symbol">: </span><a href="../types/Currency.html" class="tsd-signature-type tsd-kind-type-alias">Currency</a><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">date</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenSettled</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">hasBeenUndone</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partner</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>            </span><span class="tsd-kind-property">branding</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>                </span><span class="tsd-kind-property">logoUrl</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">description</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">name</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>            </span><span class="tsd-kind-property">website</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">partnerId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">price</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">purchaseItemId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">rateLabel</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">title</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">transactionType</span><span class="tsd-signature-symbol">: </span><a href="../types/FanPointsTransactionType.html" class="tsd-signature-type tsd-kind-type-alias">FanPointsTransactionType</a><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">userId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>an list of the performed undo purchases</p>
<div class="tsd-comment tsd-typography"><h4 class="tsd-anchor-link"><a id="Throws-8" class="tsd-anchor"></a>Throws<a href="#Throws-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><a href="RequestError.html" class="tsd-kind-class">RequestError</a> if the purchase does not exist (<code>transactionNotFoundError</code>),
if the user does not have enough FanPoints (<code>tooFewAvailableError</code>), or if the purchase
has already been undone (<code>alreadyExecutedError</code>).</p>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/FanPoints/server-js/blob/298067a057553a29ab604d1ffb5ad8110880a8ff/src/FanPointsModule.ts#L446">src/FanPointsModule.ts:446</a></li></ul></aside></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="tsd-otp-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#createFanPointsPaymentSession" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Fan<wbr/>Points<wbr/>Payment<wbr/>Session</span></a><a href="#createTixevoFanPointsPaymentSession" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Tixevo<wbr/>Fan<wbr/>Points<wbr/>Payment<wbr/>Session</span></a><a href="#estimateGivenOutFanPointsOnPurchase" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>estimate<wbr/>Given<wbr/>Out<wbr/>Fan<wbr/>Points<wbr/>On<wbr/>Purchase</span></a><a href="#getBalance" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Balance</span></a><a href="#getPriceInFanPoints" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Price<wbr/>In<wbr/>Fan<wbr/>Points</span></a><a href="#getTransaction" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Transaction</span></a><a href="#getTransactions" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Transactions</span></a><a href="#giveFanPointsOnPurchase" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>give<wbr/>Fan<wbr/>Points<wbr/>On<wbr/>Purchase</span></a><a href="#payPurchaseWithFanPoints" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>pay<wbr/>Purchase<wbr/>With<wbr/>Fan<wbr/>Points</span></a><a href="#registerTixevoCheckout" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>register<wbr/>Tixevo<wbr/>Checkout</span></a><a href="#undoPurchase" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>undo<wbr/>Purchase</span></a></div></details></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://fanpoints.github.io/server-js/">Home</a></nav><nav class="tsd-navigation"><a href="../modules.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>@fanpoints/server-js</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div><script>
          try {
            const generateLinkElement = document.querySelector(".tsd-generator a");
            const link = document.createElement("a");
            Object.assign(link, {
              href: "https://github.com/dmnsgn/typedoc-material-theme",
              target: "_blank",
              rel: "noreferrer",
              innerText: "typedoc-material-theme."
            });
            generateLinkElement.insertAdjacentElement("afterend", link);
            generateLinkElement.insertAdjacentText("afterend", " with ");
          } catch (error) {

          }
        </script></body></html>
